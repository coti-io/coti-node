<?xml version="1.0" encoding="UTF-8"?>
<users>
    <user type="wallet">
    	<userID>userHash</userID>
    	<addressMapping>address -> userHash</addressMapping>
        <initialTrustScore>
            <initialTrustScoreComponent name="KYC">
                <definition>"Calculated from the KYC identification data (very thin data)"</definition>
                <range>
                    <from>0</from>
                    <to>5</to>
                </range>
                <weight>1.0</weight>
                <decay>ln(2)/1095 = 0.000633011124</decay>
            </initialTrustScoreComponent>
            <initialTrustScoreComponent name="Questionnaire1">
                <definition>"Main questionnaire, not mandatory, but important for arbitrators (no way to have high
                    enough TS from the beginning without it)"
                </definition>
                <range>
                    <from>0</from>
                    <to>25</to>
                </range>
                <weight>1.0</weight>
                <decay>ln(2)/1095 = 0.000633011124</decay>
            </initialTrustScoreComponent>
        </initialTrustScore>
        <behaviorCumulativeScores>
            <transactionScore name="TransactionFrequency">
            	<idea>More transactions - more TS</idea>
            	<algorithm>Day-by-day calculation</algorithm>
                <valueAdjusting>"Maximum contribution is 15, 80% of max contribution corresponds to 10,000 Txs per month or
                    N0.8 = 10,000 or rxN0.8 = 400 for day-by day"
                </valueAdjusting>
				<calculating>N = count(outcomingTxForAllAddressesForTheUser) within a day</calculating>
                <nonlinearFunction>tan(N/400*1.098612289) (for day-by-day)</nonlinearFunction>
                <weight>0.75 (for day-by-day)</weight>
                <decay>ln(2)/30 = 0.023104906019</decay>
                <valueToStore>TStnum</valueToStore>
                <currentValue>TStnum + tan(N/400*1.098612289)</currentValue>
                <dayShift>TStnum = TStnum * exp(-decay) + currentValue</dayShift>
                <issue>When the day changes? It should be different for different locations?</issue>
            </transactionScore>
            <transactionScore name="Turnover">
            	<idea>More turnover - more TS</idea>
            	<algorithm>Day-by-day calculation</algorithm>
                <valueAdjusting>"Maximum contribution is 15, 80% of max contribution corresponds to 100,000 COTI per month or
                    T0.8 = 100,000 or rxT0.8 = 4,000 for day-by day calculation"
                </valueAdjusting>
				<calculating>T = sum(outcomingTxForAllAddressesForTheUser) within a day</calculating>
                <nonlinearFunction>tan(T/4000*1.098612289) (for day-by-day)</nonlinearFunction>
                <weight>0.75 (for day-by-day)</weight>
                <decay>ln(2)/30 = 0.023104906019</decay>
                <valueToStore>TStsum</valueToStore>
                <currentValue>TStsum + tan(T/4000*1.098612289)</currentValue>
                <dayShift>TStnum = TStsum * exp(-decay) + currentValue</dayShift>
                <issue>When the day changes? It should be different for different locations?</issue>
            </transactionScore>
            <transactionScore name="AverageBalance">
            	<idea>Higher balance - higher TS</idea>
            	<algorithm>30 day deep day-by-day calculation</algorithm>
                <valueAdjusting>"Maximum contribution is 15, 80% of max contribution corresponds to 10,000 COTI avg balance in
                    month or B0.8 = 10,000 or rxB0.8 = 400 for day-by day calculation"
                </valueAdjusting>
                <valueToStore>TSbalmonth</valueToStore>
                <valueToStore>TSbal[0:29] 30 values</valueToStore>
                <newaddress>Calculate TSbal_new_a[0:29] for the new address starting from the current balance backward</newaddress>
                <newaddress>New address is an unknown before address which is first time debited wothin a day</newaddress>
                <newaddress>There can be several TSbal_new_a within a day</newaddress>
                <nonlinearFunction>tan(B/400*1.098612289)</nonlinearFunction>
                <decay>ln(2)/30 = 0.023104906019</decay>
                <movingSum>
                	sum(exp(-decay*i) * nonlinearFunction(TSbal[i] + sum(TSbal_new_a[i] for all new addresses)) for all stored days)
                </movingSum>
                <currentValue>TSbalmonth + movingSum</currentValue>
                <dayShift>TSbalmonth = TSbalmonth * exp(-decay) + TSbal[29]</dayShift>
                <dayShift>TSbal[i+1] = TSbal[i] * exp(-decay) for i in 1:28</dayShift>
                <dayShift>TSbal[1] = (TSbal[0] + sum(TSbal_new_a[0] for all new addresses) )* exp(-decay)
                <dayShift>TSbal[0] = sum(Today balance for all addresses)</dayShift>
                <weight>0.75</weight>
                <issue>When the day changes? It should be different for different locations?</issue>
            </transactionScore>
        </behaviorCumulativeScores>
        <behaviorEventsScore>
            <transactionScore name="DepositedBalance">
                <idea>--- not correct "Maximum contribution is 30 80% of max contribution corresponds to 10,000 COTI avg balance in
                    month or D0.8 = 10,000 or rxD0.8 = 400 for day-by day calculation"
                </idea>
                <nonlinearFunction>tan(D*1.098612289/10000)</nonlinearFunction>
                <weight>15.0</weight>
                <decay>ln(2)/90</decay>
            </transactionScore>
            <badEventScore name="FillingTheQuestionnaire">
                <definition>"A person filling questionnaire too frequent is probably cheating"</definition>
                <term>90</term>
                <weight>-10.0</weight>
                <decay>ln(2)/30</decay>
            </badEventScore>
            <badEventScore name="IncorrectTransaction">
                <definition>"It is to be defined, how to catch it"</definition>
                <term>360</term>
                <weight>-2.0</weight>
                <decay>ln(2)/30</decay>
            </badEventScore>
            <badEventScore name="DoubleSpending">
                <definition>"It is to be defined, how to catch it"</definition>
                <term>360</term>
                <weight>-10.0</weight>
                <decay>ln(2)/90</decay>
            </badEventScore>
        </behaviorEventsScore>
        <behaviorHighFrequencyEventsScore>
            <disputedEventScore name="NonFulfillment">
                <idea>"Not fulfilling a jury decision to pay or settle in other way"</idea>
                <term>360</term>
                <weight>0</weight>
                <decay>ln(2)/90</decay>
            </disputedEventScore>
            <disputedEventScore name="LateFulfillment">
                <idea>"Fulfilling a jury decision after"</idea>
                <term>360</term>
                <weight>0</weight>
                <decay>ln(2)/90</decay>
            </disputedEventScore>
            <disputedEventScore name="Claim">
                <idea>"A person sending too much claims to the arbitration "</idea>
                <term>90</term>
                <weight>0</weight>
                <decay>ln(2)/90</decay>
            </disputedEventScore>
            <disputedEventScore name="ChargeBack">
                <idea>"Calculate chargeback rate for a month, apply the fine if it is larger than the standard(~2%)"</idea>
                <term>90</term>
                <weight>0</weight>
                <decay>ln(2)/90</decay>
            </disputedEventScore>
        </behaviorHighFrequencyEventsScore>
    </user><user type="merchant">
    	<userID>userHash</userID>
    	<addressMapping>address -> userHash</addressMapping>
        <initialTrustScore>
            <initialTrustScoreComponent name="KYC">
                <definition>"Calculated from the KYC identification data (very thin data)"</definition>
                <range>
                    <from>0</from>
                    <to>5</to>
                </range>
                <weight>1.0</weight>
                <decay>ln(2)/365 = 0.001899033371</decay>
            </initialTrustScoreComponent>
            <initialTrustScoreComponent name="Questionnaire1">
                <definition>"Main questionnaire, not mandatory, but important for arbitrators (no way to have high
                    enough TS from the beginning without it)"
                </definition>
                <range>
                    <from>0</from>
                    <to>25</to>
                </range>
                <weight>0.6</weight>
                <decay>ln(2)/365 = 0.001899033371</decay>
            </initialTrustScoreComponent>
            <initialTrustScoreComponent name="Questionnaire2">
                <definition>"Questionnaire for merchants, not mandatory but important to have a good TS and low RR from the beginning. It consists of business-related questions."</definition>
                <range>
                    <from>0</from>
                    <to>20</to>
                </range>
                <weight>1.0</weight>
                <decay>ln(2)/365 = 0.001899033371</decay>
            </initialTrustScoreComponent>
        </initialTrustScore>
        <behaviorCumulativeScores>
            <transactionScore name="TransactionFrequency">
            	<idea>More transactions - more TS</idea>
            	<algorithm>Day-by-day calculation</algorithm>
                <valueAdjusting>"Maximum contribution is 15, 80% of max contribution corresponds to 10,000 Txs per month or
                    N0.8 = 10,000 or rxN0.8 = 400 for day-by day"
                </valueAdjusting>
				<calculating>N = count(outcomingTxForAllAddressesForTheUser) within a day</calculating>
                <nonlinearFunction>tan(N/400*1.098612289) (for day-by-day)</nonlinearFunction>
                <weight>0.75 (for day-by-day)</weight>
                <decay>ln(2)/30 = 0.023104906019</decay>
                <valueToStore>TStnum</valueToStore>
                <currentValue>TStnum + tan(N/400*1.098612289)</currentValue>
                <dayShift>TStnum = TStnum * exp(-decay) + currentValue</dayShift>
                <issue>When the day changes? It should be different for different locations?</issue>
            </transactionScore>
            <transactionScore name="Turnover">
            	<idea>More turnover - more TS</idea>
            	<algorithm>Day-by-day calculation</algorithm>
                <valueAdjusting>"Maximum contribution is 15, 80% of max contribution corresponds to 100,000 COTI per month or
                    T0.8 = 100,000 or rxT0.8 = 4,000 for day-by day calculation"
                </valueAdjusting>
				<calculating>T = sum(outcomingTxForAllAddressesForTheUser) within a day</calculating>
                <nonlinearFunction>tan(T/4000*1.098612289) (for day-by-day)</nonlinearFunction>
                <weight>0.75 (for day-by-day)</weight>
                <decay>ln(2)/30 = 0.023104906019</decay>
                <valueToStore>TStsum</valueToStore>
                <currentValue>TStsum + tan(T/4000*1.098612289)</currentValue>
                <dayShift>TStnum = TStsum * exp(-decay) + currentValue</dayShift>
                <issue>When the day changes? It should be different for different locations?</issue>
            </transactionScore>
            <transactionScore name="AverageBalance">
            	<idea>Higher balance - higher TS</idea>
            	<algorithm>30 day deep day-by-day calculation</algorithm>
                <valueAdjusting>"Maximum contribution is 15, 80% of max contribution corresponds to 10,000 COTI avg balance in
                    month or B0.8 = 10,000 or rxB0.8 = 400 for day-by day calculation"
                </valueAdjusting>
                <valueToStore>TSbalmonth</valueToStore>
                <valueToStore>TSbal[0:29] 30 values</valueToStore>
                <newaddress>Calculate TSbal_new_a[0:29] for the new address starting from the current balance backward</newaddress>
                <newaddress>New address is an unknown before address which is first time debited wothin a day</newaddress>
                <newaddress>There can be several TSbal_new_a within a day</newaddress>
                <nonlinearFunction>tan(B/400*1.098612289)</nonlinearFunction>
                <decay>ln(2)/30 = 0.023104906019</decay>
                <movingSum>
                	sum(exp(-decay*i) * nonlinearFunction(TSbal[i] + sum(TSbal_new_a[i] for all new addresses)) for all stored days)
                </movingSum>
                <currentValue>TSbalmonth + movingSum</currentValue>
                <dayShift>TSbalmonth = TSbalmonth * exp(-decay) + TSbal[29]</dayShift>
                <dayShift>TSbal[i+1] = TSbal[i] * exp(-decay) for i in 1:28</dayShift>
                <dayShift>TSbal[1] = (TSbal[0] + sum(TSbal_new_a[0] for all new addresses) )* exp(-decay)
                <dayShift>TSbal[0] = sum(Today balance for all addresses)</dayShift>
                <weight>0.75</weight>
                <issue>When the day changes? It should be different for different locations?</issue>
            </transactionScore>
        </behaviorCumulativeScores>
        <behaviorEventsScore>
            <transactionScore name="DepositedBalance">
                <idea>"--- not correct Maximum contribution is 30 80% of max contribution corresponds to 10,000 COTI avg balance in
                    month or D0.8 = 10,000 or rxD0.8 = 400 for day-by day calculation"
                </idea>
                <nonlinearFunction>tan(D*1.098612289/10000)</nonlinearFunction>
                <weight>15.0</weight>
                <decay>ln(2)/90</decay>
            </transactionScore>
            <badEventScore name="FillingTheQuestionnaire">
                <definition>"A person filling questionnaire too frequent is probably cheating"</definition>
                <term>90</term>
                <weight>-10.0</weight>
                <decay>ln(2)/30</decay>
            </badEventScore>
            <badEventScore name="IncorrectTransaction">
                <definition>"It is to be defined, how to catch it"</definition>
                <term>360</term>
                <weight>-2.0</weight>
                <decay>ln(2)/30</decay>
            </badEventScore>
            <badEventScore name="DoubleSpending">
                <definition>"It is to be defined, how to catch it"</definition>
                <term>360</term>
                <weight>-10.0</weight>
                <decay>ln(2)/90</decay>
            </badEventScore>
        </behaviorEventsScore>
        <behaviorHighFrequencyEventsScore>
            <disputedEventScore name="NonFulfillment">
                <idea>"Not fulfilling a jury decision to pay or settle in other way"</idea>
                <term>360</term>
                <weight>0</weight>
                <decay>ln(2)/90</decay>
            </disputedEventScore>
            <disputedEventScore name="LateFulfillment">
                <idea>"Fulfilling a jury decision after"</idea>
                <term>360</term>
                <weight>0</weight>
                <decay>ln(2)/90</decay>
            </disputedEventScore>
            <disputedEventScore name="Claim">
                <idea>"A person sending too much claims to the arbitration "</idea>
                <term>90</term>
                <weight>0</weight>
                <decay>ln(2)/90</decay>
            </disputedEventScore>
            <disputedEventScore name="ChargeBack">
                <idea>"Calculate chargeback rate for a month, apply the fine if it is larger than the standard(~2%)"</idea>
                <term>90</term>
                <weight>0</weight>
                <decay>ln(2)/90</decay>
            </disputedEventScore>
        </behaviorHighFrequencyEventsScore>
    </user>
    <user type="node">
    	<userID>userHash</userID>
    	<addressMapping>address -> userHash</addressMapping>
        <initialTrustScore>
            <initialTrustScoreComponent name="OwnersTS">
                <definition>"Borrow the TS from the owner"</definition>
                <range>
                    <from>0</from>
                    <to>100</to>
                </range>
                <weight>0.4</weight>
                <decay>ln(2)/365 = 0.001899033371</decay>
            </initialTrustScoreComponent>
        </initialTrustScore>
        <behaviorCumulativeScores>
            <transactionScore name="TransactionFrequency">
            	<idea>More transactions - more TS</idea>
            	<algorithm>Day-by-day calculation</algorithm>
                <valueAdjusting>""Maximum contribution is 30 80% of max contribution corresponds to 1,000,000 Txs per month or N0.8
                    = 1,000,000" or rxN0.8 = 40,000 for day-by day"
                </valueAdjusting>
				<calculating>N = count(outcomingTxForAllAddressesForTheUser) within a day</calculating>
                <nonlinearFunction>tan(N/40000*1.098612289) (for day-by-day)</nonlinearFunction>
                <weight>1.5 (for day-by-day)</weight>
                <decay>ln(2)/30 = 0.023104906019</decay>
                <valueToStore>TStnum</valueToStore>
                <currentValue>TStnum + tan(N/40000*1.098612289)</currentValue>
                <dayShift>TStnum = TStnum * exp(-decay) + currentValue</dayShift>
                <issue>When the day changes? It should be different for different locations?</issue>
            </transactionScore>
            <transactionScore name="Turnover">
            	<idea>More turnover - more TS</idea>
            	<algorithm>Day-by-day calculation</algorithm>
                <valueAdjusting>"Maximum contribution is 30 80% of max contribution corresponds to 100,000 COTI per month or
                    T0.8 = 10,000,000 or rxT0.8 = 400,000 for day-by day calculation"
                </valueAdjusting>
				<calculating>T = sum(outcomingTxForAllAddressesForTheUser) within a day</calculating>
                <nonlinearFunction>tan(T/400000*1.098612289) (for day-by-day)</nonlinearFunction>
                <weight>1.0 (for day-by-day)</weight>
                <decay>ln(2)/30 = 0.023104906019</decay>
                <valueToStore>TStsum</valueToStore>
                <currentValue>TStsum + tan(T/400000*1.098612289)</currentValue>
                <dayShift>TStnum = TStsum * exp(-decay) + currentValue</dayShift>
                <issue>When the day changes? It should be different for different locations?</issue>
            </transactionScore>
        </behaviorCumulativeScores>
        <behaviorEventsScore>
            <badEventScore name="IncorrectTransaction">
                <definition>"It is to be defined, how to catch it"</definition>
                <term>360</term>
                <weight>-2.0</weight>
                <decay>ln(2)/30</decay>
            </badEventScore>
            <badEventScore name="DoubleSpending">
                <definition>"It is to be defined, how to catch it"</definition>
                <term>360</term>
                <weight>-10.0</weight>
                <decay>ln(2)/90</decay>
            </badEventScore>
        </behaviorEventsScore>
        <behaviorHighFrequencyEventsScore>
        </behaviorHighFrequencyEventsScore>
    </user>
</users>
